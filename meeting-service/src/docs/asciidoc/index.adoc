= Meeting Service API Docs
comeon Meeting Service Docs
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 2
:sectlinks:

ifndef::snippets[]
:snippets: ./build/generated-snippets
endif::[]

[[common]]
== 공통 스펙

==== 공통 응답 스펙
include::{snippets}/common/common-response-fields.adoc[]
모임 API의 응답메시지는 모두 위와 같은 스펙으로 구성되어 있습니다.

**code 필드에 반환되는 값들**
include::{snippets}/common/common-response-fields-apiResponseCodes.adoc[]
공통 응답 스펙의 code 필드에는 위와 같은 값들이 반환될 수 있습니다. +
응답 코드는 SUCCESS인 경우를 제외하고 모두 예외가 발생한 상황입니다.

==== 공통 응답 스펙 - 예외인 경우
include::{snippets}/common-error/common-response-fields-data.adoc[]
예외가 발생한 경우에는 data 필드에 위와 같은 형식으로 발생한 예외에 대한 응답이 들어갑니다.
아래의 예시를 참고해주세요.
include::{snippets}/common-error/response-body.adoc[]


[[Create-Meeting]]
== 1. 모임 생성 - **/meetings**

[[Create-Normal]]
=== 1) 정상 흐름
==== 요청 예시
include::{snippets}/meeting-post-normal/http-request.adoc[]

==== 요청 파라미터
include::{snippets}/meeting-post-normal/request-parameters.adoc[]
include::{snippets}/meeting-post-normal/request-parts.adoc[]
필수값이 true인 파라미터는 무조건 multipart/form-data에 포함되어 있어야 합니다.

==== 응답 예시
include::{snippets}/meeting-post-normal/http-response.adoc[]

==== 응답 필드
include::{snippets}/meeting-post-normal/response-fields-data.adoc[]

[[Create-Error]]
=== 2) 예외 - 필수값이 없는 경우
==== 요청 예시
include::{snippets}/meeting-post-badrequest/http-request.adoc[]
위와 같이 title 값만 요청 데이터로 보낼 경우에는, 필수 값이 true인 파라미터들이 없기 때문에 예외를 발생시킵니다.

==== 응답 예시
include::{snippets}/meeting-post-badrequest/http-response.adoc[]

==== 응답 필드
include::{snippets}/meeting-post-badrequest/response-fields-data.adoc[]

[[Modify-Meeting]]
== 2. 모임 수정 - **/meetings/{meetingId}**

[[Modify-Normal-includeimage]]
=== 1) 정상 흐름 - 이미지 포함 수정
==== 요청 예시
현재 PATCH 방식으로 multipart/form-data 요청의 문서화가 자동으로 안되는 오류가 생겨 요청 메시지 바디가 표시되지 않습니다. 해당 예시에서는 요청 헤드만 참고해주세요. +
메시지 바디는 아래의 요청 파라미터를 참고해서 보내주세요.
include::{snippets}/meeting-patch-normal-includeimage/http-request.adoc[]
수정할 모임의 ID를 경로변수에 담아 PATCH 메서드로 호출해주세요.

==== 요청 파라미터
include::{snippets}/meeting-patch-normal-includeimage/request-parameters.adoc[]
include::{snippets}/meeting-patch-normal-includeimage/request-parts.adoc[]
필수값이 true인 파라미터는 무조건 multipart/form-data에 포함되어 있어야 합니다.

==== 응답 예시
include::{snippets}/meeting-patch-normal-includeimage/http-response.adoc[]

==== 응답 필드
include::{snippets}/meeting-patch-normal-includeimage/response-fields-data.adoc[]
변경된 필드 값을 반환합니다.

[[Modify-Normal]]
=== 2) 정상 흐름 - 이미지 제외 수정

==== 요청 파라미터
include::{snippets}/meeting-patch-normal/request-parameters.adoc[]
image를 제외하고 multipart/form-data 형식으로 요청 데이터를 보내주세요. +
이미지를 제외하더라도 HTTP 메서드는 PATCH로 동일합니다.

==== 응답 예시
include::{snippets}/meeting-patch-normal/http-response.adoc[]

==== 응답 필드
include::{snippets}/meeting-patch-normal/response-fields-data.adoc[]
변경된 필드 값을 반환합니다.

[[Modify-Error-Param]]
=== 3) 예외 - 필수값이 없는 경우
요청 데이터에 필수데이터(title, startDate, endDate)를 명시하지 않는다면 아래와 같은 응답을 보냅니다.

==== 응답 예시
include::{snippets}/meeting-patch-error-param/http-response.adoc[]

==== 응답 필드
include::{snippets}/meeting-patch-error-param/response-fields-data.adoc[]

[[Modify-Error-Pathvariable]]
=== 4) 예외 - 잘못된 경로변수를 보낼 경우
경로 변수에 없는 모임 리소스의 PK값을 명시할 경우 아래와 같은 응답을 보냅니다.

==== 응답 예시
include::{snippets}/meeting-patch-error-pathvariable/http-response.adoc[]

==== 응답 필드
include::{snippets}/meeting-patch-error-pathvariable/response-fields-data.adoc[]

[[Delete-Meeting]]
== 3. 모임 삭제 - **/meetings/{meetingId}**

[[Delete-Normal]]
=== 1) 정상 흐름
==== 요청 예시
include::{snippets}/meeting-delete-normal/http-request.adoc[]
삭제할 모임의 ID를 경로변수에 담아 DELETE 메서드로 호출해주세요.

==== 응답 예시
include::{snippets}/meeting-delete-normal/http-response.adoc[]

==== 응답 필드
include::{snippets}/meeting-delete-normal/response-fields-data.adoc[]
삭제된 모임의 식별자를 리턴합니다.

[[Delete-Error]]
=== 2) 예외 - 잘못된 경로변수를 보낼 경우
==== 요청 예시
include::{snippets}/meeting-delete-error-pathvariable/http-request.adoc[]
위의 예시는 5라는 식별자를 가진 리소스가 없음에도 서버에 삭제 요청을 보낸 경우입니다.

==== 응답 예시
include::{snippets}/meeting-delete-error-pathvariable/http-response.adoc[]

==== 응답 필드
include::{snippets}/meeting-delete-error-pathvariable/response-fields-data.adoc[]
삭제하려는 리소스가 없기 때문에 위와 같이 예외를 응답합니다.